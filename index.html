<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Dog Breed AI</title>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>

<style>
  body { font-family: Arial; text-align:center; background:#f7f7f7 }
  h1 { color:#333 }
  #card { background:white; width:320px; margin:auto; padding:15px; border-radius:12px; box-shadow:0 0 10px #aaa }
  canvas { border-radius:12px; }
  #breed { font-size:22px; font-weight:bold; margin-top:10px }
  #desc { color:#444 }
</style>
</head>

<body>
<h1>üê∂ Dog Breed AI</h1>

<div id="card">
  <button onclick="init()">üì∑ ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á</button>
  <div id="webcam-container"></div>

  <div id="breed"></div>
  <div id="desc"></div>
</div>

<script>
const URL = "https://teachablemachine.withgoogle.com/models/FqRUS6uDf/";

let model, webcam;

const dogInfo = {
  "Golden Retriever": "‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£ ‡∏â‡∏•‡∏≤‡∏î ‡∏£‡∏±‡∏Å‡πÄ‡∏î‡πá‡∏Å",
  "German Shepherd": "‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå ‡∏â‡∏•‡∏≤‡∏î ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ï‡∏≥‡∏£‡∏ß‡∏à",
  "Poodle": "‡∏â‡∏•‡∏≤‡∏î ‡∏Ç‡∏ô‡∏´‡∏¢‡∏¥‡∏Å ‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏£‡πà‡∏ß‡∏á",
  "Bulldog": "‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡∏™‡∏á‡∏ö ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á",
  "Husky": "‡∏û‡∏•‡∏±‡∏á‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏ä‡∏≠‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô"
};

async function init() {
  const modelURL = URL + "model.json";
  const metadataURL = URL + "metadata.json";

  model = await tmImage.load(modelURL, metadataURL);

  webcam = new tmImage.Webcam(250, 250, true);
  await webcam.setup();
  await webcam.play();
  window.requestAnimationFrame(loop);

  document.getElementById("webcam-container").appendChild(webcam.canvas);
}

async function loop() {
  webcam.update();
  await predict();
  window.requestAnimationFrame(loop);
}

async function predict() {
  const prediction = await model.predict(webcam.canvas);
  prediction.sort((a,b)=>b.probability-a.probability);

  const best = prediction[0].className;
  const percent = (prediction[0].probability*100).toFixed(1);

  document.getElementById("breed").innerText =
    `‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå: ${best} (${percent}%)`;

  document.getElementById("desc").innerText =
    dogInfo[best] || "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞";
}
</script>
</body>
</html>
